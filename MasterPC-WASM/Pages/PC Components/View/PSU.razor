@page "/product/power-supply/{PsuId}"

@using MasterPC_WASM.Components.Tables
@using MasterPC_WASM.Services

@inject NavigationManager NavigationManager
@inject IPSUService psuService

<PSUTable Elements="psuList" />


@code {
    [Parameter] public String PsuId { get; set; }

    public PSUVM psuVM { get; set; }

    public List<PSUVM> psuList = new List<PSUVM>();

    protected override async Task OnInitializedAsync()
    {
        if (PsuId == null)
        {
            NavigationManager.NavigateTo("/products/psus");
        }
        else
        {
            psuVM = await psuService.GetPSUByIdAsync(PsuId);
            psuList.Add(psuVM);
        }
    }
}
